/*
 * Dosya: 08_Mors_Alfabesi_Çevirici
 * Açıklama: Metin verisini (String) Mors sinyaline dönüştürür.
 * Kullanılan Teknikler: String işleme, İletişim protokolü mantığı.
 */

#include "bizimKutuphane.h"

// ================= FONKSİYONLAR =================
void Mors_Yak(char karakter) {
    switch(karakter) {
        case 'M': // --
            HAL_GPIO_WritePin(GPIOD, GPIO_PIN_12, SET); HAL_Delay(300);
            HAL_GPIO_WritePin(GPIOD, GPIO_PIN_12, RESET); HAL_Delay(100);
            HAL_GPIO_WritePin(GPIOD, GPIO_PIN_12, SET); HAL_Delay(300);
            HAL_GPIO_WritePin(GPIOD, GPIO_PIN_12, RESET);
            break;
        case 'E': // .
            HAL_GPIO_WritePin(GPIOD, GPIO_PIN_12, SET); HAL_Delay(100);
            HAL_GPIO_WritePin(GPIOD, GPIO_PIN_12, RESET);
            break;
        // Diğer karakterler eklenebilir
        default: break;
    }
    HAL_Delay(300); // Harfler arası boşluk
}

// ================= ANA DÖNGÜ (Main Loop) =================
/* Bu blok while(1) içine yerleştirilmelidir */

char mesaj[] = "ME";
int uzunluk = 2;

for(int i=0; i<uzunluk; i++) {
    Mors_Yak(mesaj[i]);
}
HAL_Delay(2000); // Kelime tekrarı için bekle
